import{S as G,i as O,s as S,k as b,l as y,m as E,h as m,n as k,b as d,G as I,L as X,g as U,t as v,d as Q,f as h,a as D,q as V,c as N,r as M,M as Y,A as _,v as T,w as P,x as L,y as C,e as j,a1 as Z,aa as x,u as ee,N as te,O as re}from"../../../chunks/index-18d30961.js";import{e as se,d as le}from"../../../chunks/auth-2ea31209.js";import{g as ae}from"../../../chunks/navigation-7b61c867.js";import{U as ne}from"../../../chunks/UserIconList-ed67aec1.js";import{F as oe,C as ie}from"../../../chunks/Casing-a15c321f.js";import{b as ce}from"../../../chunks/paths-0808d32b.js";import{P as ue,L as fe}from"../../../chunks/ProtectedPage-ed574ae0.js";const pe=async({query:o="users",value:t=le(),amount:r=10})=>{const s="updatedOn";let n,c=[];t=await t;try{n=await se({isTeam:!0,amount:r,timestamp:s,queries:[{type:o,compare:"array-contains",value:t}]})}catch(l){return l}return n.forEach(l=>{var i,p,u;const a=l.data();c.push({contentType:"team",id:(i=a.id)!=null?i:l.id,title:(p=a.title)==null?void 0:p.trim(),caption:(u=a.caption)==null?void 0:u.trim(),picture:`https://firebasestorage.googleapis.com/v0/b/haja-project.appspot.com/o/${a.picture}`,private:a.private,users:a.users})}),c};function me(o){let t,r,e,s,n,c;return{c(){t=b("div"),r=b("img"),s=D(),n=b("p"),c=V("Team not found"),this.h()},l(l){t=y(l,"DIV",{class:!0});var a=E(t);r=y(a,"IMG",{src:!0,alt:!0}),a.forEach(m),s=N(l),n=y(l,"P",{class:!0});var i=E(n);c=M(i,"Team not found"),i.forEach(m),this.h()},h(){Y(r.src,e=W)||k(r,"src",e),k(r,"alt","team not found"),k(t,"class","background svelte-4vpts7"),k(n,"class","caption bold alert svelte-4vpts7")},m(l,a){d(l,t,a),I(t,r),d(l,s,a),d(l,n,a),I(n,c)},p:_,i:_,o:_,d(l){l&&m(t),l&&m(s),l&&m(n)}}}function _e(o){let t,r,e,s,n,c,l,a,i,p,u,g,$,z=o[3].length+"",F,q;return r=new oe({props:{src:o[4],alt:`team ${o[1]}`}}),u=new ne({props:{users:o[3],hideMe:!0}}),{c(){t=b("div"),T(r.$$.fragment),e=D(),s=b("p"),n=V(o[1]),c=D(),l=b("p"),a=V(o[2]),i=D(),p=b("div"),T(u.$$.fragment),g=D(),$=b("p"),F=V(z),this.h()},l(f){t=y(f,"DIV",{class:!0});var w=E(t);P(r.$$.fragment,w),w.forEach(m),e=N(f),s=y(f,"P",{class:!0});var B=E(s);n=M(B,o[1]),B.forEach(m),c=N(f),l=y(f,"P",{class:!0});var H=E(l);a=M(H,o[2]),H.forEach(m),i=N(f),p=y(f,"DIV",{class:!0});var A=E(p);P(u.$$.fragment,A),g=N(A),$=y(A,"P",{class:!0});var J=E($);F=M(J,z),J.forEach(m),A.forEach(m),this.h()},h(){k(t,"class","background svelte-4vpts7"),k(s,"class","title bold svelte-4vpts7"),k(l,"class","caption svelte-4vpts7"),k($,"class","bold svelte-4vpts7"),k(p,"class","info svelte-4vpts7")},m(f,w){d(f,t,w),L(r,t,null),d(f,e,w),d(f,s,w),I(s,n),d(f,c,w),d(f,l,w),I(l,a),d(f,i,w),d(f,p,w),L(u,p,null),I(p,g),I(p,$),I($,F),q=!0},p:_,i(f){q||(h(r.$$.fragment,f),h(u.$$.fragment,f),q=!0)},o(f){v(r.$$.fragment,f),v(u.$$.fragment,f),q=!1},d(f){f&&m(t),C(r),f&&m(e),f&&m(s),f&&m(c),f&&m(l),f&&m(i),f&&m(p),C(u)}}}function de(o){let t,r,e,s,n,c,l;const a=[_e,me],i=[];function p(u,g){return typeof u[0]!="string"?0:1}return e=p(o),s=i[e]=a[e](o),{c(){t=b("div"),r=b("div"),s.c(),this.h()},l(u){t=y(u,"DIV",{class:!0});var g=E(t);r=y(g,"DIV",{class:!0});var $=E(r);s.l($),$.forEach(m),g.forEach(m),this.h()},h(){k(r,"class","grid svelte-4vpts7"),k(t,"class","card svelte-4vpts7")},m(u,g){d(u,t,g),I(t,r),i[e].m(r,null),n=!0,c||(l=X(t,"click",o[5]),c=!0)},p(u,[g]){let $=e;e=p(u),e===$?i[e].p(u,g):(U(),v(i[$],1,1,()=>{i[$]=null}),Q(),s=i[e],s?s.p(u,g):(s=i[e]=a[e](u),s.c()),h(s,1),s.m(r,null))},i(u){n||(h(s),n=!0)},o(u){v(s),n=!1},d(u){u&&m(t),i[e].d(),c=!1,l()}}}const W="/404.png";function $e(o,t,r){let{team:e}=t;const{title:s,caption:n,picture:c,users:l}=typeof e=="string"?{title:"",caption:"",picture:W,users:[]}:e,a=c,i=()=>{console.log(e),typeof e!="string"&&ae(`${ce}/team/${e.id}`)};return o.$$set=p=>{"team"in p&&r(0,e=p.team)},[e,s,n,l,a,i]}class ve extends G{constructor(t){super(),O(this,t,$e,de,S,{team:0})}}function K(o,t,r){const e=o.slice();return e[1]=t[r],e}function he(o){let t=[],r=new Map,e,s,n=o[0];const c=l=>l[1].id;for(let l=0;l<n.length;l+=1){let a=K(o,n,l),i=c(a);r.set(i,t[l]=R(i,a))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=j()},l(l){for(let a=0;a<t.length;a+=1)t[a].l(l);e=j()},m(l,a){for(let i=0;i<t.length;i+=1)t[i].m(l,a);d(l,e,a),s=!0},p(l,a){a&1&&(n=l[0],U(),t=Z(t,a,c,1,l,n,r,e.parentNode,x,R,e,K),Q())},i(l){if(!s){for(let a=0;a<n.length;a+=1)h(t[a]);s=!0}},o(l){for(let a=0;a<t.length;a+=1)v(t[a]);s=!1},d(l){for(let a=0;a<t.length;a+=1)t[a].d(l);l&&m(e)}}}function ge(o){let t;return{c(){t=V("No teams joined!")},l(r){t=M(r,"No teams joined!")},m(r,e){d(r,t,e)},p:_,i:_,o:_,d(r){r&&m(t)}}}function ke(o){let t;return{c(){t=V(o[0])},l(r){t=M(r,o[0])},m(r,e){d(r,t,e)},p(r,e){e&1&&ee(t,r[0])},i:_,o:_,d(r){r&&m(t)}}}function R(o,t){let r,e,s,n;return e=new ve({props:{team:t[1]}}),{key:o,first:null,c(){r=b("div"),T(e.$$.fragment),s=D(),this.h()},l(c){r=y(c,"DIV",{class:!0});var l=E(r);P(e.$$.fragment,l),s=N(l),l.forEach(m),this.h()},h(){k(r,"class","svelte-1g76rm0"),this.first=r},m(c,l){d(c,r,l),L(e,r,null),I(r,s),n=!0},p(c,l){t=c;const a={};l&1&&(a.team=t[1]),e.$set(a)},i(c){n||(h(e.$$.fragment,c),n=!0)},o(c){v(e.$$.fragment,c),n=!1},d(c){c&&m(r),C(e)}}}function be(o){let t,r,e,s,n;const c=[ke,ge,he],l=[];function a(i,p){return p&1&&(t=null),t==null&&(t=typeof i[0]=="string"||!Array.isArray(i[0])),t?0:i[0].length==0?1:2}return r=a(o,-1),e=l[r]=c[r](o),{c(){e.c(),s=j()},l(i){e.l(i),s=j()},m(i,p){l[r].m(i,p),d(i,s,p),n=!0},p(i,[p]){let u=r;r=a(i,p),r===u?l[r].p(i,p):(U(),v(l[u],1,1,()=>{l[u]=null}),Q(),e=l[r],e?e.p(i,p):(e=l[r]=c[r](i),e.c()),h(e,1),e.m(s.parentNode,s))},i(i){n||(h(e),n=!0)},o(i){v(e),n=!1},d(i){l[r].d(i),i&&m(s)}}}function ye(o,t,r){let{teams:e=[]}=t;return o.$$set=s=>{"teams"in s&&r(0,e=s.teams)},[e]}class we extends G{constructor(t){super(),O(this,t,ye,be,S,{teams:0})}}function Ee(o){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function Ie(o){let t,r;return t=new we({props:{teams:o[0]}}),{c(){T(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){L(t,e,s),r=!0},p:_,i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){C(t,e)}}}function Te(o){let t,r;return t=new fe({props:{top:4}}),{c(){T(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){L(t,e,s),r=!0},p:_,i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){C(t,e)}}}function Pe(o){let t,r,e={ctx:o,current:null,token:null,hasCatch:!1,pending:Te,then:Ie,catch:Ee,value:0,blocks:[,,,]};return te(pe({}),e),{c(){t=j(),e.block.c()},l(s){t=j(),e.block.l(s)},m(s,n){d(s,t,n),e.block.m(s,e.anchor=n),e.mount=()=>t.parentNode,e.anchor=t,r=!0},p(s,n){o=s,re(e,o,n)},i(s){r||(h(e.block),r=!0)},o(s){for(let n=0;n<3;n+=1){const c=e.blocks[n];v(c)}r=!1},d(s){s&&m(t),e.block.d(s),e.token=null,e=null}}}function Le(o){let t,r;return t=new ie({props:{$$slots:{default:[Pe]},$$scope:{ctx:o}}}),{c(){T(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){L(t,e,s),r=!0},p(e,s){const n={};s&2&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){C(t,e)}}}function Ce(o){let t,r;return t=new ue({props:{$$slots:{default:[Le]},$$scope:{ctx:o}}}),{c(){T(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){L(t,e,s),r=!0},p(e,[s]){const n={};s&2&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){C(t,e)}}}class Fe extends G{constructor(t){super(),O(this,t,null,Ce,S,{})}}export{Fe as default};
