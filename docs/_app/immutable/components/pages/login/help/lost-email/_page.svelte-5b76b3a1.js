import{S as R,i as A,s as L,v as w,w as q,x as E,f as b,t as h,y as S,e as p,b as _,g as O,d as P,h as i,k,q as d,l as g,m as v,r as $,n as C,G as y,A as m,N,O as B,a as D,c as F,L as T,u as V}from"../../../../../chunks/index-1ec07f8a.js";import{S as z,F as G}from"../../../../../chunks/SmallCenterContentOverBackground-9e361850.js";import{c as U}from"../../../../../chunks/auth-dca8f8ba.js";import{I as j}from"../../../../../chunks/InfoCard-70587ebc.js";import{s as x}from"../../../../../chunks/session-a4f0fa19.js";import{g as H}from"../../../../../chunks/navigation-26e422b1.js";import"../../../../../chunks/Logo-c3777dc3.js";import"../../../../../chunks/singletons-35bef5e5.js";function J(s){let e,r;return e=new G({props:{callback:s[2],inputs:[{text:"Email",id:"email",type:"email",icon:"/icon/person.svg"}],$$slots:{button:[Q],title:[M]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,n){const o={};n&32&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function K(s){let e,r;return e=new j({props:{$$slots:{default:[te]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,n){const o={};n&33&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function M(s){let e,r;return{c(){e=k("div"),r=d("Lost Email"),this.h()},l(t){e=g(t,"DIV",{slot:!0});var n=v(e);r=$(n,"Lost Email"),n.forEach(i),this.h()},h(){C(e,"slot","title")},m(t,n){_(t,e,n),y(e,r)},p:m,d(t){t&&i(e)}}}function Q(s){let e,r;return{c(){e=k("div"),r=d("Request email"),this.h()},l(t){e=g(t,"DIV",{slot:!0});var n=v(e);r=$(n,"Request email"),n.forEach(i),this.h()},h(){C(e,"slot","button")},m(t,n){_(t,e,n),y(e,r)},p:m,d(t){t&&i(e)}}}function W(s){return{c:m,l:m,m,p:m,d:m}}function X(s){let e;function r(o,l){return o[4].error?Z:Y}let t=r(s),n=t(s);return{c(){n.c(),e=p()},l(o){n.l(o),e=p()},m(o,l){n.m(o,l),_(o,e,l)},p(o,l){t===(t=r(o))&&n?n.p(o,l):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&i(e)}}}function Y(s){let e;return{c(){e=d("A password change email was sent")},l(r){e=$(r,"A password change email was sent")},m(r,t){_(r,e,t)},p:m,d(r){r&&i(e)}}}function Z(s){let e,r=s[4].error+"",t,n,o,l,f,a;return{c(){e=k("p"),t=d(r),n=D(),o=k("button"),l=d("Retry"),this.h()},l(c){e=g(c,"P",{});var u=v(e);t=$(u,r),u.forEach(i),n=F(c),o=g(c,"BUTTON",{class:!0});var I=v(o);l=$(I,"Retry"),I.forEach(i),this.h()},h(){C(o,"class","button svelte-khzpmq")},m(c,u){_(c,e,u),y(e,t),_(c,n,u),_(c,o,u),y(o,l),f||(a=T(o,"click",s[3]),f=!0)},p(c,u){u&1&&r!==(r=c[4].error+"")&&V(t,r)},d(c){c&&i(e),c&&i(n),c&&i(o),f=!1,a()}}}function ee(s){let e;return{c(){e=d("Sending....")},l(r){e=$(r,"Sending....")},m(r,t){_(r,e,t)},p:m,d(r){r&&i(e)}}}function te(s){let e,r,t={ctx:s,current:null,token:null,hasCatch:!1,pending:ee,then:X,catch:W,value:4};return N(r=s[0],t),{c(){e=p(),t.block.c()},l(n){e=p(),t.block.l(n)},m(n,o){_(n,e,o),t.block.m(n,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e},p(n,o){s=n,t.ctx=s,o&1&&r!==(r=s[0])&&N(r,t)||B(t,s,o)},d(n){n&&i(e),t.block.d(n),t.token=null,t=null}}}function re(s){let e,r,t,n;const o=[K,J],l=[];function f(a,c){return a[1]?0:1}return e=f(s),r=l[e]=o[e](s),{c(){r.c(),t=p()},l(a){r.l(a),t=p()},m(a,c){l[e].m(a,c),_(a,t,c),n=!0},p(a,c){let u=e;e=f(a),e===u?l[e].p(a,c):(O(),h(l[u],1,1,()=>{l[u]=null}),P(),r=l[e],r?r.p(a,c):(r=l[e]=o[e](a),r.c()),b(r,1),r.m(t.parentNode,t))},i(a){n||(b(r),n=!0)},o(a){h(r),n=!1},d(a){l[e].d(a),a&&i(t)}}}function ne(s){let e,r;return e=new z({props:{$$slots:{default:[re]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,[n]){const o={};n&35&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function oe(s,e,r){let t;const n=async f=>(r(1,t=!0),r(0,l=U(f.email)),""),o=()=>{r(1,t=!1),r(0,l=null)};let l;return x.subscribe(async({user:f,ready:a})=>{f&&a&&H("/me")}),r(1,t=!1),[l,t,n,o]}class me extends R{constructor(e){super(),A(this,e,oe,ne,L,{})}}export{me as default};
