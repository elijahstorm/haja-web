import{S as se,i as ie,s as ce,d as b,R as Te,T as ve,v as re,n as T,A as Q,c as W,p as v,q as R,B as G,l as p,f as J,r as k,w as E,a3 as P,g as y,L as j,C as K,N as O,k as w,t as A,D as X,H as le,ag as Ee,x as I,y as B,F as L,ah as x,e as $,h as M,j as C,U as ee,V as te,W as Ae,ao as Re,z as Le}from"./index-5511dae7.js";import{u as oe,e as Pe}from"./auth-d39e8e30.js";import{I as ae}from"./Icon-89b0dfec.js";import{s as H}from"./session-d9259449.js";import{T as ue}from"./TodoContent-bf90e1fc.js";const S="src/lib/content/todo/AddTodo.svelte";function fe(c){let e,t,n;const r={c:function(){e=T("div"),t=T("span"),n=I("Add a new todo now!"),this.h()},l:function(s){e=v(s,"DIV",{class:!0});var o=R(e);t=v(o,"SPAN",{class:!0});var d=R(t);n=B(d,"Add a new todo now!"),d.forEach(p),o.forEach(p),this.h()},h:function(){k(t,"class","bold s-uHOO4a39j9M2"),E(t,S,67,3,1485),k(e,"class","todo s-uHOO4a39j9M2"),E(e,S,66,2,1463)},m:function(s,o){y(s,e,o),j(e,t),j(t,n)},p:L,d:function(s){s&&p(e)}};return b("SvelteRegisterBlock",{block:r,id:fe.name,type:"else",source:"(66:1) {:else}",ctx:c}),r}function de(c){let e,t,n;const r={c:function(){e=T("input"),this.h()},l:function(s){e=v(s,"INPUT",{placeholder:!0,class:!0}),this.h()},h:function(){k(e,"placeholder","Let's do Together!"),k(e,"class","s-uHOO4a39j9M2"),E(e,S,58,2,1315)},m:function(s,o){y(s,e,o),c[12](e),x(e,c[2]),t||(n=[O(e,"input",c[13]),O(e,"blur",c[6],!1,!1,!1),O(e,"keydown",c[7],!1,!1,!1)],t=!0)},p:function(s,o){o&4&&e.value!==s[2]&&x(e,s[2])},d:function(s){s&&p(e),c[12](null),t=!1,le(n)}};return b("SvelteRegisterBlock",{block:r,id:de.name,type:"if",source:"(58:1) {#if editing}",ctx:c}),r}function q(c){let e,t,n,r,i,s,o;n=new ae({props:{icon:c[3],color:c[4],width:me},$$inline:!0});function d(a,f){return a[0]?de:fe}let l=d(c),u=l(c);const _={c:function(){e=T("div"),t=T("div"),Q(n.$$.fragment),r=W(),u.c(),this.h()},l:function(f){e=v(f,"DIV",{class:!0});var h=R(e);t=v(h,"DIV",{class:!0});var g=R(t);G(n.$$.fragment,g),g.forEach(p),r=J(h),u.l(h),h.forEach(p),this.h()},h:function(){k(t,"class","s-uHOO4a39j9M2"),E(t,S,54,1,1244),k(e,"class","flex s-uHOO4a39j9M2"),P(e,"editing",c[0]),E(e,S,53,0,1178)},m:function(f,h){y(f,e,h),j(e,t),K(n,t,null),j(e,r),u.m(e,null),i=!0,s||(o=[O(e,"click",c[5],!1,!1,!1),O(e,"keydown",c[5],!1,!1,!1)],s=!0)},p:function(f,[h]){const g={};h&8&&(g.icon=f[3]),h&16&&(g.color=f[4]),n.$set(g),l===(l=d(f))&&u?u.p(f,h):(u.d(1),u=l(f),u&&(u.c(),u.m(e,null))),(!i||h&1)&&P(e,"editing",f[0])},i:function(f){i||(w(n.$$.fragment,f),i=!0)},o:function(f){A(n.$$.fragment,f),i=!1},d:function(f){f&&p(e),X(n),u.d(),s=!1,le(o)}};return b("SvelteRegisterBlock",{block:_,id:q.name,type:"component",source:"",ctx:c}),_}const me=30,ne="todo";function je(c,e,t){let n,r,i,s;Te(H,"session"),ve(c,H,m=>t(11,s=m));let{$$slots:o={},$$scope:d}=e;re("AddTodo",o,[]);let{source:l=n}=e,{isTeam:u=!1}=e,{callback:_=m=>{}}=e,a,f=!1,h="",g="";const Y=()=>{t(0,f=!0),setTimeout(()=>a.focus(),1)},V=()=>{if(!f||(t(0,f=!1),h==""))return;const m={contentType:"todo",id:"",title:`${h}`,caption:"",status:"todo",type:"",date:new Date,color:g};t(2,h=""),_(m),oe({source:l,isTeam:u,content:m,type:ne}).then(we=>{m.id=we.id})},Z=m=>{m.key==="Enter"&&V()},ye=["source","isTeam","callback"];Object.keys(e).forEach(m=>{!~ye.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<AddTodo> was created with unknown prop '${m}'`)});function be(m){Ee[m?"unshift":"push"](()=>{a=m,t(1,a)})}function ke(){h=this.value,t(2,h)}return c.$$set=m=>{"source"in m&&t(8,l=m.source),"isTeam"in m&&t(9,u=m.isTeam),"callback"in m&&t(10,_=m.callback)},c.$capture_state=()=>({uploadDocument:oe,Icon:ae,session:H,source:l,isTeam:u,callback:_,width:me,input:a,editing:f,title:h,color:g,type:ne,add:Y,save:V,saveOnEnter:Z,icon:i,style:r,myId:n,$session:s}),c.$inject_state=m=>{"source"in m&&t(8,l=m.source),"isTeam"in m&&t(9,u=m.isTeam),"callback"in m&&t(10,_=m.callback),"input"in m&&t(1,a=m.input),"editing"in m&&t(0,f=m.editing),"title"in m&&t(2,h=m.title),"color"in m&&t(15,g=m.color),"icon"in m&&t(3,i=m.icon),"style"in m&&t(4,r=m.style),"myId"in m&&(n=m.myId)},e&&"$$inject"in e&&c.$inject_state(e.$$inject),c.$$.update=()=>{var m;c.$$.dirty&2048&&(n=(m=s==null?void 0:s.user)==null?void 0:m.uid),c.$$.dirty&1&&t(3,i=f?"akar-icons:circle":"gridicons:add")},t(4,r=g==""?"var(--primary);":g),[f,a,h,i,r,Y,V,Z,l,u,_,s,be,ke]}class he extends se{constructor(e){super(e),ie(this,e,je,q,ce,{source:8,isTeam:9,callback:10}),b("SvelteRegisterComponent",{component:this,tagName:"AddTodo",options:e,id:q.name})}get source(){throw new Error("<AddTodo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set source(e){throw new Error("<AddTodo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get isTeam(){throw new Error("<AddTodo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isTeam(e){throw new Error("<AddTodo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get callback(){throw new Error("<AddTodo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set callback(e){throw new Error("<AddTodo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const N="src/lib/content/todo/TodoList.svelte";function D(c,e,t){const n=c.slice();return n[6]=e[t],n}function U(c){let e,t,n;t=new he({props:{source:c[1],isTeam:c[2],callback:c[5]},$$inline:!0});const r={c:function(){e=T("div"),Q(t.$$.fragment),this.h()},l:function(s){e=v(s,"DIV",{class:!0});var o=R(e);G(t.$$.fragment,o),o.forEach(p),this.h()},h:function(){k(e,"class","add s-R1ll4kAR7bR5"),P(e,"push",c[4]),E(e,N,19,1,427)},m:function(s,o){y(s,e,o),K(t,e,null),n=!0},p:function(s,o){const d={};o&2&&(d.source=s[1]),o&4&&(d.isTeam=s[2]),t.$set(d),(!n||o&16)&&P(e,"push",s[4])},i:function(s){n||(w(t.$$.fragment,s),n=!0)},o:function(s){A(t.$$.fragment,s),n=!1},d:function(s){s&&p(e),X(t)}};return b("SvelteRegisterBlock",{block:r,id:U.name,type:"if",source:"(19:0) {#if !locked}",ctx:c}),r}function _e(c){let e,t=[],n=new Map,r,i=c[0];ee(i);const s=d=>d[6].id;te(c,i,D,s);for(let d=0;d<i.length;d+=1){let l=D(c,i,d),u=s(l);n.set(u,t[d]=z(u,l))}const o={c:function(){e=T("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l:function(l){e=v(l,"DIV",{class:!0});var u=R(e);for(let _=0;_<t.length;_+=1)t[_].l(u);u.forEach(p),this.h()},h:function(){k(e,"class","s-R1ll4kAR7bR5"),P(e,"push",c[4]),E(e,N,30,1,679)},m:function(l,u){y(l,e,u);for(let _=0;_<t.length;_+=1)t[_].m(e,null);r=!0},p:function(l,u){u&7&&(i=l[0],ee(i),M(),te(l,i,D,s),t=Ae(t,u,s,1,l,i,n,e,Re,z,null,D),C()),(!r||u&16)&&P(e,"push",l[4])},i:function(l){if(!r){for(let u=0;u<i.length;u+=1)w(t[u]);r=!0}},o:function(l){for(let u=0;u<t.length;u+=1)A(t[u]);r=!1},d:function(l){l&&p(e);for(let u=0;u<t.length;u+=1)t[u].d()}};return b("SvelteRegisterBlock",{block:o,id:_e.name,type:"if",source:"(30:16) ",ctx:c}),o}function pe(c){let e,t,n;const r={c:function(){e=T("p"),t=I("No todos yet!"),n=I(`

	Todo: Add teams creations...`),this.h()},l:function(s){e=v(s,"P",{class:!0});var o=R(e);t=B(o,"No todos yet!"),o.forEach(p),n=B(s,`

	Todo: Add teams creations...`),this.h()},h:function(){k(e,"class","s-R1ll4kAR7bR5"),E(e,N,26,1,609)},m:function(s,o){y(s,e,o),j(e,t),y(s,n,o)},p:L,i:L,o:L,d:function(s){s&&p(e),s&&p(n)}};return b("SvelteRegisterBlock",{block:r,id:pe.name,type:"if",source:"(26:28) ",ctx:c}),r}function ge(c){let e;const t={c:function(){e=I(c[0])},l:function(r){e=B(r,c[0])},m:function(r,i){y(r,e,i)},p:function(r,i){i&1&&Le(e,r[0])},i:L,o:L,d:function(r){r&&p(e)}};return b("SvelteRegisterBlock",{block:t,id:ge.name,type:"if",source:'(24:0) {#if typeof todos === \\"string\\" || !Array.isArray(todos)}',ctx:c}),t}function z(c,e){let t,n,r,i;n=new ue({props:{todo:e[6],source:e[1],isTeam:e[2]},$$inline:!0});const s={key:c,first:null,c:function(){t=T("div"),Q(n.$$.fragment),r=W(),this.h()},l:function(d){t=v(d,"DIV",{class:!0});var l=R(t);G(n.$$.fragment,l),r=J(l),l.forEach(p),this.h()},h:function(){k(t,"class","todo s-R1ll4kAR7bR5"),E(t,N,32,3,733),this.first=t},m:function(d,l){y(d,t,l),K(n,t,null),j(t,r),i=!0},p:function(d,l){e=d;const u={};l&1&&(u.todo=e[6]),l&2&&(u.source=e[1]),l&4&&(u.isTeam=e[2]),n.$set(u)},i:function(d){i||(w(n.$$.fragment,d),i=!0)},o:function(d){A(n.$$.fragment,d),i=!1},d:function(d){d&&p(t),X(n)}};return b("SvelteRegisterBlock",{block:s,id:z.name,type:"each",source:"(32:2) {#each todos as todo (todo.id)}",ctx:e}),s}function F(c){let e,t,n,r,i,s,o=!c[3]&&U(c);const d=[ge,pe,_e],l=[];function u(a,f){return f&1&&(t=null),t==null&&(t=typeof a[0]=="string"||!Array.isArray(a[0])),t?0:a[0].length==0?1:a[0]?2:-1}~(n=u(c,-1))&&(r=l[n]=d[n](c));const _={c:function(){o&&o.c(),e=W(),r&&r.c(),i=$()},l:function(f){o&&o.l(f),e=J(f),r&&r.l(f),i=$()},m:function(f,h){o&&o.m(f,h),y(f,e,h),~n&&l[n].m(f,h),y(f,i,h),s=!0},p:function(f,[h]){f[3]?o&&(M(),A(o,1,1,()=>{o=null}),C()):o?(o.p(f,h),h&8&&w(o,1)):(o=U(f),o.c(),w(o,1),o.m(e.parentNode,e));let g=n;n=u(f,h),n===g?~n&&l[n].p(f,h):(r&&(M(),A(l[g],1,1,()=>{l[g]=null}),C()),~n?(r=l[n],r?r.p(f,h):(r=l[n]=d[n](f),r.c()),w(r,1),r.m(i.parentNode,i)):r=null)},i:function(f){s||(w(o),w(r),s=!0)},o:function(f){A(o),A(r),s=!1},d:function(f){o&&o.d(f),f&&p(e),~n&&l[n].d(f),f&&p(i)}};return b("SvelteRegisterBlock",{block:_,id:F.name,type:"component",source:"",ctx:c}),_}function Oe(c,e,t){let{$$slots:n={},$$scope:r}=e;re("TodoList",n,[]);let{todos:i=[]}=e,{source:s}=e,{isTeam:o}=e,{locked:d=!1}=e,l=!1;const u=a=>{typeof i!="string"&&(t(0,i=[a,...i]),t(4,l=!0),setTimeout(()=>{t(4,l=!1)},1100))};c.$$.on_mount.push(function(){s===void 0&&!("source"in e||c.$$.bound[c.$$.props.source])&&console.warn("<TodoList> was created without expected prop 'source'"),o===void 0&&!("isTeam"in e||c.$$.bound[c.$$.props.isTeam])&&console.warn("<TodoList> was created without expected prop 'isTeam'")});const _=["todos","source","isTeam","locked"];return Object.keys(e).forEach(a=>{!~_.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<TodoList> was created with unknown prop '${a}'`)}),c.$$set=a=>{"todos"in a&&t(0,i=a.todos),"source"in a&&t(1,s=a.source),"isTeam"in a&&t(2,o=a.isTeam),"locked"in a&&t(3,d=a.locked)},c.$capture_state=()=>({AddTodo:he,TodoContent:ue,todos:i,source:s,isTeam:o,locked:d,push:l,callback:u}),c.$inject_state=a=>{"todos"in a&&t(0,i=a.todos),"source"in a&&t(1,s=a.source),"isTeam"in a&&t(2,o=a.isTeam),"locked"in a&&t(3,d=a.locked),"push"in a&&t(4,l=a.push)},e&&"$$inject"in e&&c.$inject_state(e.$$inject),[i,s,o,d,l,u]}class Ve extends se{constructor(e){super(e),ie(this,e,Oe,F,ce,{todos:0,source:1,isTeam:2,locked:3}),b("SvelteRegisterComponent",{component:this,tagName:"TodoList",options:e,id:F.name})}get todos(){throw new Error("<TodoList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set todos(e){throw new Error("<TodoList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get source(){throw new Error("<TodoList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set source(e){throw new Error("<TodoList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get isTeam(){throw new Error("<TodoList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isTeam(e){throw new Error("<TodoList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get locked(){throw new Error("<TodoList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set locked(e){throw new Error("<TodoList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const He=async({source:c,dateRange:e={start:new Date(0),end:new Date},isTeam:t=!1,amount:n=50})=>{let r,i=[];try{r=await Pe({type:"todo",source:c,amount:n,isTeam:t,queries:[{type:"date",compare:">=",value:e.start},{type:"date",compare:"<",value:e.end}]})}catch(s){return s}return r.forEach(s=>{var d,l;const o=s.data();i.push({contentType:"todo",id:o.id??s.id,title:(d=o.title)==null?void 0:d.trim(),caption:(l=o.caption)==null?void 0:l.trim(),color:!o.color||o.color===""?"var(--primary)":`#${o.color.substring(2)+o.color.substring(0,2)}`,date:o.date.toDate(),status:o.status,type:o.type})}),i};export{Ve as T,He as g};
