import{S as K,i as X,s as Y,d as $,v as Z,n as y,p as w,q as C,l as p,r as b,w as j,g,L as P,N as re,h as x,t as v,j as ee,k,H as Ce,c as I,x as D,f as N,y as O,a6 as Re,F as h,A as L,B,C as M,D as U,e as V,U as se,V as ae,W as Pe,ao as Le,z as Be,a7 as Me,a8 as Ue}from"../../../chunks/index-5511dae7.js";import{e as ze,d as Ie}from"../../../chunks/auth-d39e8e30.js";import{b as Ne}from"../../../chunks/environment-60829b93.js";import{g as ie}from"../../../chunks/navigation-47a412a4.js";import{U as ue}from"../../../chunks/UserIconList-0c528b1f.js";import{F as fe,C as me}from"../../../chunks/Casing-856f4186.js";import{b as le}from"../../../chunks/shared-eaf57226.js";import{P as de}from"../../../chunks/ProtectedPage-4c6c566a.js";import{L as pe}from"../../../chunks/Loader-975a4d69.js";const _e=async({query:r="users",value:e=Ie(),amount:o=10})=>{const c="updatedOn";let t,l=[];e=await e;try{t=await ze({isTeam:!0,amount:o,timestamp:c,queries:[{type:r,compare:"array-contains",value:e}]})}catch(s){return s}return t.forEach(s=>{var i,a;const u=s.data();l.push({contentType:"team",id:u.id??s.id,title:(i=u.title)==null?void 0:i.trim(),caption:(a=u.caption)==null?void 0:a.trim(),picture:`https://firebasestorage.googleapis.com/v0/b/haja-project.appspot.com/o/${u.picture}`,private:u.private,users:u.users})}),l};const R="src/lib/content/team/TeamCard.svelte";function he(r){let e,o,n,c,t,l;const s={c:function(){e=y("div"),o=y("img"),c=I(),t=y("p"),l=D("Team not found"),this.h()},l:function(i){e=w(i,"DIV",{class:!0});var a=C(e);o=w(a,"IMG",{src:!0,alt:!0}),a.forEach(p),c=N(i),t=w(i,"P",{class:!0});var f=C(t);l=O(f,"Team not found"),f.forEach(p),this.h()},h:function(){Re(o.src,n=G)||b(o,"src",n),b(o,"alt","team not found"),j(o,R,40,4,1072),b(e,"class","background s-c82UMjlzeo5t"),j(e,R,39,3,1043),b(t,"class","caption bold alert s-c82UMjlzeo5t"),j(t,R,42,3,1127)},m:function(i,a){g(i,e,a),P(e,o),g(i,c,a),g(i,t,a),P(t,l)},p:h,i:h,o:h,d:function(i){i&&p(e),i&&p(c),i&&p(t)}};return $("SvelteRegisterBlock",{block:s,id:he.name,type:"else",source:"(39:2) {:else}",ctx:r}),s}function ge(r){let e,o,n,c,t,l,s,u,i,a,f,_,m,T=r[3].length+"",E,A;o=new fe({props:{src:r[4],alt:`team ${r[1]}`},$$inline:!0}),f=new ue({props:{users:r[3],hideMe:!0},$$inline:!0});const te={c:function(){e=y("div"),L(o.$$.fragment),n=I(),c=y("p"),t=D(r[1]),l=I(),s=y("p"),u=D(r[2]),i=I(),a=y("div"),L(f.$$.fragment),_=I(),m=y("p"),E=D(T),this.h()},l:function(d){e=w(d,"DIV",{class:!0});var S=C(e);B(o.$$.fragment,S),S.forEach(p),n=N(d),c=w(d,"P",{class:!0});var ne=C(c);t=O(ne,r[1]),ne.forEach(p),l=N(d),s=w(d,"P",{class:!0});var oe=C(s);u=O(oe,r[2]),oe.forEach(p),i=N(d),a=w(d,"DIV",{class:!0});var q=C(a);B(f.$$.fragment,q),_=N(q),m=w(q,"P",{class:!0});var ce=C(m);E=O(ce,T),ce.forEach(p),q.forEach(p),this.h()},h:function(){b(e,"class","background s-c82UMjlzeo5t"),j(e,R,27,3,754),b(c,"class","title bold s-c82UMjlzeo5t"),j(c,R,30,3,842),b(s,"class","caption s-c82UMjlzeo5t"),j(s,R,31,3,879),b(m,"class","bold s-c82UMjlzeo5t"),j(m,R,34,4,974),b(a,"class","info s-c82UMjlzeo5t"),j(a,R,32,3,915)},m:function(d,S){g(d,e,S),M(o,e,null),g(d,n,S),g(d,c,S),P(c,t),g(d,l,S),g(d,s,S),P(s,u),g(d,i,S),g(d,a,S),M(f,a,null),P(a,_),P(a,m),P(m,E),A=!0},p:h,i:function(d){A||(k(o.$$.fragment,d),k(f.$$.fragment,d),A=!0)},o:function(d){v(o.$$.fragment,d),v(f.$$.fragment,d),A=!1},d:function(d){d&&p(e),U(o),d&&p(n),d&&p(c),d&&p(l),d&&p(s),d&&p(i),d&&p(a),U(f)}};return $("SvelteRegisterBlock",{block:te,id:ge.name,type:"if",source:'(27:2) {#if typeof team !== \\"string\\"}',ctx:r}),te}function H(r){let e,o,n,c,t,l,s;const u=[ge,he],i=[];function a(_,m){return typeof _[0]!="string"?0:1}n=a(r),c=i[n]=u[n](r);const f={c:function(){e=y("div"),o=y("div"),c.c(),this.h()},l:function(m){e=w(m,"DIV",{class:!0});var T=C(e);o=w(T,"DIV",{class:!0});var E=C(o);c.l(E),E.forEach(p),T.forEach(p),this.h()},h:function(){b(o,"class","grid s-c82UMjlzeo5t"),j(o,R,25,1,699),b(e,"class","card s-c82UMjlzeo5t"),j(e,R,24,0,644)},m:function(m,T){g(m,e,T),P(e,o),i[n].m(o,null),t=!0,l||(s=[re(e,"click",r[5],!1,!1,!1),re(e,"keypress",r[5],!1,!1,!1)],l=!0)},p:function(m,[T]){let E=n;n=a(m),n===E?i[n].p(m,T):(x(),v(i[E],1,1,()=>{i[E]=null}),ee(),c=i[n],c?c.p(m,T):(c=i[n]=u[n](m),c.c()),k(c,1),c.m(o,null))},i:function(m){t||(k(c),t=!0)},o:function(m){v(c),t=!1},d:function(m){m&&p(e),i[n].d(),l=!1,Ce(s)}};return $("SvelteRegisterBlock",{block:f,id:H.name,type:"component",source:"",ctx:r}),f}const G="/404.png";function De(r,e,o){let{$$slots:n={},$$scope:c}=e;Z("TeamCard",n,[]);let{team:t}=e;const{title:l,caption:s,picture:u,users:i}=typeof t=="string"?{title:"",caption:"",picture:G,users:[]}:t,a=u,f=()=>{typeof t!="string"&&ie(`${le}/team/${t.id}`)};r.$$.on_mount.push(function(){t===void 0&&!("team"in e||r.$$.bound[r.$$.props.team])&&console.warn("<TeamCard> was created without expected prop 'team'")});const _=["team"];return Object.keys(e).forEach(m=>{!~_.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<TeamCard> was created with unknown prop '${m}'`)}),r.$$set=m=>{"team"in m&&o(0,t=m.team)},r.$capture_state=()=>({browser:Ne,goto:ie,UserIconList:ue,FallbackImage:fe,base:le,team:t,img404:G,title:l,caption:s,picture:u,users:i,src:a,view:f}),r.$inject_state=m=>{"team"in m&&o(0,t=m.team)},e&&"$$inject"in e&&r.$inject_state(e.$$inject),[t,l,s,i,a,f]}class $e extends K{constructor(e){super(e),X(this,e,De,H,Y,{team:0}),$("SvelteRegisterComponent",{component:this,tagName:"TeamCard",options:e,id:H.name})}get team(){throw new Error("<TeamCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set team(e){throw new Error("<TeamCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Oe="src/lib/content/team/TeamList.svelte";function F(r,e,o){const n=r.slice();return n[1]=e[o],n}function ve(r){let e=[],o=new Map,n,c,t=r[0];se(t);const l=u=>u[1].id;ae(r,t,F,l);for(let u=0;u<t.length;u+=1){let i=F(r,t,u),a=l(i);o.set(a,e[u]=Q(a,i))}const s={c:function(){for(let i=0;i<e.length;i+=1)e[i].c();n=V()},l:function(i){for(let a=0;a<e.length;a+=1)e[a].l(i);n=V()},m:function(i,a){for(let f=0;f<e.length;f+=1)e[f].m(i,a);g(i,n,a),c=!0},p:function(i,a){a&1&&(t=i[0],se(t),x(),ae(i,t,F,l),e=Pe(e,a,l,1,i,t,o,n.parentNode,Le,Q,n,F),ee())},i:function(i){if(!c){for(let a=0;a<t.length;a+=1)k(e[a]);c=!0}},o:function(i){for(let a=0;a<e.length;a+=1)v(e[a]);c=!1},d:function(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&p(n)}};return $("SvelteRegisterBlock",{block:s,id:ve.name,type:"else",source:"(9:0) {:else}",ctx:r}),s}function ke(r){let e;const o={c:function(){e=D("No teams joined!")},l:function(c){e=O(c,"No teams joined!")},m:function(c,t){g(c,e,t)},p:h,i:h,o:h,d:function(c){c&&p(e)}};return $("SvelteRegisterBlock",{block:o,id:ke.name,type:"if",source:"(7:28) ",ctx:r}),o}function be(r){let e;const o={c:function(){e=D(r[0])},l:function(c){e=O(c,r[0])},m:function(c,t){g(c,e,t)},p:function(c,t){t&1&&Be(e,c[0])},i:h,o:h,d:function(c){c&&p(e)}};return $("SvelteRegisterBlock",{block:o,id:be.name,type:"if",source:'(5:0) {#if typeof teams === \\"string\\" || !Array.isArray(teams)}',ctx:r}),o}function Q(r,e){let o,n,c,t;n=new $e({props:{team:e[1]},$$inline:!0});const l={key:r,first:null,c:function(){o=y("div"),L(n.$$.fragment),c=I(),this.h()},l:function(u){o=w(u,"DIV",{class:!0});var i=C(o);B(n.$$.fragment,i),c=N(i),i.forEach(p),this.h()},h:function(){b(o,"class","s-EzLklvM4wRHd"),j(o,Oe,10,2,250),this.first=o},m:function(u,i){g(u,o,i),M(n,o,null),P(o,c),t=!0},p:function(u,i){e=u;const a={};i&1&&(a.team=e[1]),n.$set(a)},i:function(u){t||(k(n.$$.fragment,u),t=!0)},o:function(u){v(n.$$.fragment,u),t=!1},d:function(u){u&&p(o),U(n)}};return $("SvelteRegisterBlock",{block:l,id:Q.name,type:"each",source:"(10:1) {#each teams as team (team.id)}",ctx:e}),l}function W(r){let e,o,n,c,t;const l=[be,ke,ve],s=[];function u(a,f){return f&1&&(e=null),e==null&&(e=typeof a[0]=="string"||!Array.isArray(a[0])),e?0:a[0].length==0?1:2}o=u(r,-1),n=s[o]=l[o](r);const i={c:function(){n.c(),c=V()},l:function(f){n.l(f),c=V()},m:function(f,_){s[o].m(f,_),g(f,c,_),t=!0},p:function(f,[_]){let m=o;o=u(f,_),o===m?s[o].p(f,_):(x(),v(s[m],1,1,()=>{s[m]=null}),ee(),n=s[o],n?n.p(f,_):(n=s[o]=l[o](f),n.c()),k(n,1),n.m(c.parentNode,c))},i:function(f){t||(k(n),t=!0)},o:function(f){v(n),t=!1},d:function(f){s[o].d(f),f&&p(c)}};return $("SvelteRegisterBlock",{block:i,id:W.name,type:"component",source:"",ctx:r}),i}function Ve(r,e,o){let{$$slots:n={},$$scope:c}=e;Z("TeamList",n,[]);let{teams:t=[]}=e;const l=["teams"];return Object.keys(e).forEach(s=>{!~l.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<TeamList> was created with unknown prop '${s}'`)}),r.$$set=s=>{"teams"in s&&o(0,t=s.teams)},r.$capture_state=()=>({TeamCard:$e,teams:t}),r.$inject_state=s=>{"teams"in s&&o(0,t=s.teams)},e&&"$$inject"in e&&r.$inject_state(e.$$inject),[t]}class ye extends K{constructor(e){super(e),X(this,e,Ve,W,Y,{teams:0}),$("SvelteRegisterComponent",{component:this,tagName:"TeamList",options:e,id:W.name})}get teams(){throw new Error("<TeamList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set teams(e){throw new Error("<TeamList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function we(r){const e={c:h,l:h,m:h,p:h,i:h,o:h,d:h};return $("SvelteRegisterBlock",{block:e,id:we.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { getTeamList }',ctx:r}),e}function je(r){let e,o;e=new ye({props:{teams:r[0]},$$inline:!0});const n={c:function(){L(e.$$.fragment)},l:function(t){B(e.$$.fragment,t)},m:function(t,l){M(e,t,l),o=!0},p:h,i:function(t){o||(k(e.$$.fragment,t),o=!0)},o:function(t){v(e.$$.fragment,t),o=!1},d:function(t){U(e,t)}};return $("SvelteRegisterBlock",{block:n,id:je.name,type:"then",source:"(12:2) {:then teams}",ctx:r}),n}function Te(r){let e,o;e=new pe({props:{top:4},$$inline:!0});const n={c:function(){L(e.$$.fragment)},l:function(t){B(e.$$.fragment,t)},m:function(t,l){M(e,t,l),o=!0},p:h,i:function(t){o||(k(e.$$.fragment,t),o=!0)},o:function(t){v(e.$$.fragment,t),o=!1},d:function(t){U(e,t)}};return $("SvelteRegisterBlock",{block:n,id:Te.name,type:"pending",source:"(10:26)     <Loader top={4}",ctx:r}),n}function Ee(r){let e,o,n={ctx:r,current:null,token:null,hasCatch:!1,pending:Te,then:je,catch:we,value:0,blocks:[,,,]};Me(_e({}),n);const c={c:function(){e=V(),n.block.c()},l:function(l){e=V(),n.block.l(l)},m:function(l,s){g(l,e,s),n.block.m(l,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e,o=!0},p:function(l,s){r=l,Ue(n,r,s)},i:function(l){o||(k(n.block),o=!0)},o:function(l){for(let s=0;s<3;s+=1){const u=n.blocks[s];v(u)}o=!1},d:function(l){l&&p(e),n.block.d(l),n.token=null,n=null}};return $("SvelteRegisterBlock",{block:c,id:Ee.name,type:"slot",source:"(9:1) <Casing>",ctx:r}),c}function Se(r){let e,o;e=new me({props:{$$slots:{default:[Ee]},$$scope:{ctx:r}},$$inline:!0});const n={c:function(){L(e.$$.fragment)},l:function(t){B(e.$$.fragment,t)},m:function(t,l){M(e,t,l),o=!0},p:function(t,l){const s={};l&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i:function(t){o||(k(e.$$.fragment,t),o=!0)},o:function(t){v(e.$$.fragment,t),o=!1},d:function(t){U(e,t)}};return $("SvelteRegisterBlock",{block:n,id:Se.name,type:"slot",source:"(8:0) <ProtectedPage>",ctx:r}),n}function J(r){let e,o;e=new de({props:{$$slots:{default:[Se]},$$scope:{ctx:r}},$$inline:!0});const n={c:function(){L(e.$$.fragment)},l:function(t){B(e.$$.fragment,t)},m:function(t,l){M(e,t,l),o=!0},p:function(t,[l]){const s={};l&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i:function(t){o||(k(e.$$.fragment,t),o=!0)},o:function(t){v(e.$$.fragment,t),o=!1},d:function(t){U(e,t)}};return $("SvelteRegisterBlock",{block:n,id:J.name,type:"component",source:"",ctx:r}),n}function Ae(r,e,o){let{$$slots:n={},$$scope:c}=e;Z("Page",n,[]);const t=[];return Object.keys(e).forEach(l=>{!~t.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Page> was created with unknown prop '${l}'`)}),r.$capture_state=()=>({getTeamList:_e,TeamList:ye,Casing:me,ProtectedPage:de,Loader:pe}),[]}class Ye extends K{constructor(e){super(e),X(this,e,Ae,J,Y,{}),$("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:J.name})}}export{Ye as default};
